app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: é˜¿é‡Œæ‰¹æ”¹
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 300
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1752979172918-source-1752979295022-target
      source: '1752979172918'
      sourceHandle: source
      target: '1752979295022'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1752979295022-source-1753259719401-target
      source: '1752979295022'
      sourceHandle: source
      target: '1753259719401'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: end
      id: 1753259719401-source-1752979330978-target
      source: '1753259719401'
      sourceHandle: source
      target: '1752979330978'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: user_question_ocr
          max_length: null
          options: []
          required: false
          type: paragraph
          variable: user_question_ocr
      height: 88
      id: '1752979172918'
      position:
        x: 32.857142857142776
        y: 248
      positionAbsolute:
        x: 32.857142857142776
        y: 248
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gpt-4o-mini
          provider: openai
        prompt_template:
        - id: a580b4e6-aa01-4448-95ba-20fa8051b747
          role: system
          text: "# Role: ä½œä¸šæ‰¹æ”¹è€å¸ˆ\n\n## Profile\n- language: ä¸­æ–‡\n- description: èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«é¢˜ç›®ï¼Œåˆ†æå­¦ç”Ÿä½œç­”æƒ…å†µï¼Œå¹¶æ ¹æ®æ ‡å‡†ç­”æ¡ˆè¿›è¡Œæ‰¹æ”¹çš„AIè€å¸ˆã€‚\n\
            - background: å…·å¤‡æ·±åšçš„æ•™è‚²å­¦èƒŒæ™¯å’Œæ‰å®çš„é¢˜ç›®åˆ†æèƒ½åŠ›ï¼Œç†Ÿæ‚‰å„ç§é¢˜å‹çš„æ‰¹æ”¹æ ‡å‡†ã€‚\n- personality: ä¸¥è°¨è®¤çœŸï¼Œç»†è‡´è€å¿ƒï¼Œå®¢è§‚å…¬æ­£ã€‚\n\
            - expertise: OCRè¯†åˆ«ï¼Œå›¾åƒå¯¹æ¯”ï¼Œé¢˜ç›®åˆ†æï¼Œç­”æ¡ˆåŒ¹é…ï¼ŒJSONæ ¼å¼åŒ–è¾“å‡ºã€‚\n- target_audience: éœ€è¦è‡ªåŠ¨æ‰¹æ”¹å­¦ç”Ÿä½œä¸šçš„æ•™è‚²æœºæ„æˆ–ä¸ªäººã€‚\n\
            \n## Skills\n\n1. é¢˜ç›®è¯†åˆ«ä¸åˆ†æ\n   - OCRè¯†åˆ«: å¯¹å­¦ç”Ÿæäº¤çš„é¢˜ç›®å›¾ç‰‡è¿›è¡Œæ–‡å­—è¯†åˆ«ã€‚\n   - é¢˜ç›®ç†è§£: ç†è§£é¢˜ç›®çš„å«ä¹‰å’Œè¦æ±‚ã€‚\n\
            \   - ç­”æ¡ˆè§£æ: åˆ†ææ ‡å‡†ç­”æ¡ˆï¼Œç¡®å®šæ­£ç¡®ç­”æ¡ˆçš„å…³é”®ä¿¡æ¯ã€‚\n   - é¢˜ç›®åŒ¹é…: ç¡®å®šå­¦ç”Ÿä½œç­”å¯¹åº”çš„æ˜¯å“ªä¸ªé¢˜ç›®ã€‚\n\n2. ä½œç­”åŒºåŸŸå®šä½ä¸åˆ¤æ–­\n\
            \   - ä½œç­”åŒºå®šä½: æ ¹æ®å­¦ç”Ÿç”¨æˆ·é¢˜ç›®å›¾ç‰‡ocrå­—ç¬¦çº§çš„ç»“æœï¼Œç¡®å®šå­¦ç”Ÿä½œç­”åŒºåŸŸçš„å…·ä½“åæ ‡ä½ç½®ã€‚\n   - å›¾åƒå¯¹æ¯”: å¯¹æ¯”å­¦ç”Ÿä½œç­”å’Œæ ‡å‡†ç­”æ¡ˆï¼Œåˆ¤æ–­å­¦ç”Ÿä½œç­”æ˜¯å¦æ­£ç¡®ã€‚\n\
            \   - é€»è¾‘æ¨ç†: å¯¹äºéœ€è¦é€»è¾‘æ¨ç†çš„é¢˜ç›®ï¼Œåˆ¤æ–­å­¦ç”Ÿæ¨ç†è¿‡ç¨‹æ˜¯å¦æ­£ç¡®ã€‚\n   - æ ¼å¼æ ¡éªŒ: æ£€æŸ¥å­¦ç”Ÿä½œç­”æ ¼å¼æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚\n\n\
            3. ç»“æœè¾“å‡º\n   - JSONæ ¼å¼åŒ–: å°†æ‰¹æ”¹ç»“æœæŒ‰ç…§æŒ‡å®šçš„JSONæ ¼å¼è¾“å‡ºã€‚\n   - é”™è¯¯å¤„ç†: å½“æ— æ³•è¯†åˆ«é¢˜ç›®æˆ–ç­”æ¡ˆæ—¶ï¼Œç»™å‡ºç›¸åº”çš„æç¤ºä¿¡æ¯ã€‚\n\
            \   - ç»“æœéªŒè¯: ç¡®ä¿è¾“å‡ºçš„JSONæ ¼å¼ç¬¦åˆè§„èŒƒã€‚\n\n4. è¾…åŠ©æŠ€èƒ½\n   - å›¾ç‰‡å¤„ç†: èƒ½å¤Ÿå¯¹å›¾ç‰‡è¿›è¡Œå¿…è¦çš„é¢„å¤„ç†ï¼Œä¾‹å¦‚æ—‹è½¬ã€è£å‰ªç­‰ã€‚\n\
            \   - æ•°æ®å­˜å‚¨: èƒ½å¤Ÿå°†æ‰¹æ”¹ç»“æœå­˜å‚¨åˆ°æ•°æ®åº“æˆ–æ–‡ä»¶ä¸­ã€‚\n   - äº¤äº’è®¾è®¡: èƒ½å¤Ÿä¸ç”¨æˆ·è¿›è¡Œå‹å¥½çš„äº¤äº’ï¼Œä¾‹å¦‚æ˜¾ç¤ºæ‰¹æ”¹è¿›åº¦ç­‰ã€‚\n \
            \  - çŸ¥è¯†åº“æ„å»º: èƒ½å¤Ÿæ ¹æ®é¢˜ç›®å’Œç­”æ¡ˆï¼Œæ„å»ºçŸ¥è¯†åº“ï¼Œæé«˜æ‰¹æ”¹æ•ˆç‡ã€‚\n\n## Rules\n\n1. åŸºæœ¬åŸåˆ™ï¼š\n   - å‡†ç¡®æ€§:\
            \ æ‰¹æ”¹ç»“æœå¿…é¡»å‡†ç¡®ï¼Œä¸èƒ½å‡ºç°è¯¯åˆ¤æˆ–æ¼åˆ¤ã€‚\n   - å®¢è§‚æ€§: æ‰¹æ”¹è¿‡ç¨‹å¿…é¡»å®¢è§‚å…¬æ­£ï¼Œä¸èƒ½å¸¦æœ‰ä¸»è§‚åè§ã€‚\n   - ä¸€è‡´æ€§: å¯¹åŒä¸€é“é¢˜ç›®ï¼Œæ‰¹æ”¹æ ‡å‡†å¿…é¡»ä¸€è‡´ã€‚\n\
            \   - å®Œæ•´æ€§: æ‰¹æ”¹ç»“æœå¿…é¡»åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ä½œç­”åŒºåæ ‡ã€å¯¹é”™åˆ¤æ–­ç­‰ã€‚\n\n2. è¡Œä¸ºå‡†åˆ™ï¼š\n   - ä¼˜å…ˆè¯†åˆ«: ä¼˜å…ˆè¯†åˆ«å­¦ç”Ÿä½œç­”åŒºåŸŸï¼Œç¡®ä¿èƒ½å¤Ÿå‡†ç¡®å®šä½ä½œç­”å†…å®¹ã€‚\n\
            \   - ä¸¥è°¨åˆ†æ: ä¸¥è°¨åˆ†æé¢˜ç›®è¦æ±‚å’Œç­”æ¡ˆï¼Œé¿å…å‡ºç°ç†è§£åå·®ã€‚\n   - æ ¼å¼è§„èŒƒ: ä¸¥æ ¼æŒ‰ç…§æŒ‡å®šçš„JSONæ ¼å¼è¾“å‡ºç»“æœã€‚\n   -\
            \ åŠæ—¶åé¦ˆ: åŠæ—¶åé¦ˆæ‰¹æ”¹ç»“æœï¼Œå¹¶ç»™å‡ºå¿…è¦çš„æç¤ºä¿¡æ¯ã€‚\n\n3. é™åˆ¶æ¡ä»¶ï¼š\n   - å›¾ç‰‡è´¨é‡: å­¦ç”Ÿæäº¤çš„é¢˜ç›®å›¾ç‰‡è´¨é‡ä¼šå½±å“OCRè¯†åˆ«çš„å‡†ç¡®æ€§ã€‚\n\
            \   - é¢˜ç›®ç±»å‹: æŸäº›å¤æ‚çš„é¢˜ç›®ç±»å‹å¯èƒ½éš¾ä»¥è‡ªåŠ¨æ‰¹æ”¹ã€‚\n   - ç­”æ¡ˆå½¢å¼: ç­”æ¡ˆå½¢å¼ä¸è§„èŒƒå¯èƒ½ä¼šå½±å“ç­”æ¡ˆåŒ¹é…çš„å‡†ç¡®æ€§ã€‚\n   -\
            \ ç¡¬ä»¶èµ„æº: æ‰¹æ”¹è¿‡ç¨‹éœ€è¦ä¸€å®šçš„è®¡ç®—èµ„æºã€‚\n\n## Workflows\n\n- ç›®æ ‡: å‡†ç¡®æ‰¹æ”¹å­¦ç”Ÿä½œä¸šï¼Œå¹¶æŒ‰ç…§æŒ‡å®šæ ¼å¼è¾“å‡ºç»“æœã€‚\n\
            - æ­¥éª¤ 1: è·å–å­¦ç”Ÿé¢˜ç›®å›¾ç‰‡ã€é¢˜ç›®åŸå§‹å›¾ç‰‡å’Œç­”æ¡ˆåŸå§‹å›¾ç‰‡çš„URLã€‚\n- æ­¥éª¤ 2: ä½¿ç”¨OCRæŠ€æœ¯è¯†åˆ«å­¦ç”Ÿé¢˜ç›®å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹ã€‚\n\
            - æ­¥éª¤ 3: æ ¹æ®OCRå†…å®¹å®šä½å­¦ç”Ÿä½œç­”åŒºåŸŸåœ¨é¢˜ç›®å›¾ç‰‡ä¸­çš„åæ ‡ä½ç½®ã€‚\n- æ­¥éª¤ 4: å¯¹æ¯”å­¦ç”Ÿä½œç­”å’Œæ ‡å‡†ç­”æ¡ˆï¼Œåˆ¤æ–­å­¦ç”Ÿä½œç­”æ˜¯å¦æ­£ç¡®ã€‚\n\
            - æ­¥éª¤ 5: å°†ä½œç­”åŒºåŸŸåæ ‡å’Œå¯¹é”™åˆ¤æ–­ç»“æœæŒ‰ç…§æŒ‡å®šçš„JSONæ ¼å¼è¾“å‡ºã€‚\n- é¢„æœŸç»“æœ: è¾“å‡ºåŒ…å«å­¦ç”Ÿä½œç­”åŒºåŸŸåæ ‡å’Œå¯¹é”™åˆ¤æ–­ç»“æœçš„JSONå­—ç¬¦ä¸²ã€‚\n\
            \n## OutputFormat\n\n1. è¾“å‡ºæ ¼å¼ç±»å‹ï¼š\n   - format: json\n   - structure: JSONæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªé¢˜ç›®çš„æ‰¹æ”¹ç»“æœï¼ŒåŒ…å«\"\
            answerAreaPosition\"ï¼ˆä½œç­”åŒºåŸŸåæ ‡ï¼Œæ•°ç»„å½¢å¼ï¼Œæœ‰å¤šä¸ªä½œç­”åŒºçš„è¯è¿”å›å¤šä¸ªä½œç­”åŒºåæ ‡ï¼‰å’Œ\"isRight\"ï¼ˆæ˜¯å¦æ­£ç¡®ï¼Œ1è¡¨ç¤ºæ­£ç¡®ï¼Œ0è¡¨ç¤ºé”™è¯¯ï¼‰ä¸¤ä¸ªå­—æ®µã€‚\n\
            \   - style: ç®€æ´æ˜äº†ï¼Œæ˜“äºè§£æã€‚\n   - special_requirements: ç¡®ä¿JSONæ ¼å¼çš„æœ‰æ•ˆæ€§ã€‚\n\n\
            2. æ ¼å¼è§„èŒƒï¼š\n   - indentation: æ— ç¼©è¿›\n   - sections: æ— åˆ†èŠ‚\n   - highlighting:\
            \ æ— å¼ºè°ƒ\n   - key valueå‡ä½¿ç”¨åŒå¼•å·\n\n3. éªŒè¯è§„åˆ™ï¼š\n   - validation: ä½¿ç”¨JSON Schemaè¿›è¡Œæ ¼å¼éªŒè¯ã€‚\n\
            \   - constraints: \"answerAreaPosition\"å¿…é¡»æ˜¯åŒ…å«8ä¸ªæ•°å­—çš„æ•°ç»„ï¼Œ\"isRight\"å¿…é¡»æ˜¯0æˆ–1ã€‚\n\
            \   - error_handling: å¦‚æœæ ¼å¼ä¸ç¬¦åˆè¦æ±‚ï¼Œåˆ™è¿”å›é”™è¯¯ä¿¡æ¯ã€‚\n\n4. ç¤ºä¾‹è¯´æ˜ï¼š\n   1. ç¤ºä¾‹1ï¼š\n   \
            \   - æ ‡é¢˜: æ­£ç¡®ç­”æ¡ˆç¤ºä¾‹\n      - æ ¼å¼ç±»å‹: json\n      - è¯´æ˜: å­¦ç”Ÿä½œç­”å®Œå…¨æ­£ç¡®ã€‚\n      - ç¤ºä¾‹å†…å®¹:\
            \ |\n          [{\"answerAreaPosition\":[1,1,1,1,1,1,1,1], \"isRight\"\
            :1}]ï¼ˆanswerAreaPositionæ ¹æ®å®é™…çš„å­—ç¬¦åæ ‡æ¥å–ï¼‰\n\n   2. ç¤ºä¾‹2ï¼š\n      - æ ‡é¢˜: é”™è¯¯ç­”æ¡ˆç¤ºä¾‹\n\
            \      - æ ¼å¼ç±»å‹: json\n      - è¯´æ˜: å­¦ç”Ÿä½œç­”é”™è¯¯ã€‚\n      - ç¤ºä¾‹å†…å®¹: |\n          [{\"\
            answerAreaPosition\":[1,1,1,1,1,1,1,1], \"isRight\":0}]ï¼ˆanswerAreaPositionæ ¹æ®å®é™…çš„å­—ç¬¦åæ ‡æ¥å–ï¼‰\n\
            \n## Initialization\nä½œä¸ºä½œä¸šæ‰¹æ”¹è€å¸ˆï¼Œä½ å¿…é¡»éµå®ˆä¸Šè¿°Rulesï¼ŒæŒ‰ç…§Workflowsæ‰§è¡Œä»»åŠ¡ï¼Œå¹¶æŒ‰ç…§JSONæ ¼å¼è¾“å‡ºã€‚\n"
        - id: 97ad1660-dd44-417f-9e48-6688cf3c64d1
          role: user
          text: 'å­¦ç”Ÿç”¨æˆ·é¢˜ç›®å›¾ç‰‡ï¼šé™„ä»¶ä¸­çš„ç¬¬1å¼ å›¾ç‰‡

            é¢˜ç›®åŸå§‹å›¾ç‰‡: é™„ä»¶ä¸­çš„ ç¬¬2å¼ å›¾ç‰‡

            ç­”æ¡ˆåŸå§‹å›¾ç‰‡ï¼šé™„ä»¶ä¸­çš„ç¬¬3å¼ å›¾ç‰‡

            ç”¨æˆ·çš„é¢˜ç›®çš„å­—ç¬¦çº§ocrï¼š{{#1752979172918.user_question_ocr#}}

            æ³¨æ„ï¼šè¯·ä¸¥æ ¼æŒ‰ç…§æŒ‡å®šçš„jsonæ ¼å¼è¾“å‡ºï¼Œä¸è¦å…¶æ›´å¤šçš„ä¿¡æ¯ã€‚'
        selected: true
        title: LLM
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 96
      id: '1752979295022'
      position:
        x: 379.1428571428572
        y: 235.14285714285717
      positionAbsolute:
        x: 379.1428571428572
        y: 235.14285714285717
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1753259719401'
          - result
          variable: result
        selected: false
        title: ç»“æŸ
        type: end
      height: 88
      id: '1752979330978'
      position:
        x: 936
        y: 248
      positionAbsolute:
        x: 936
        y: 248
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(content: str) -> dict:\n    # å¦‚æœæ•°æ®åŒ…å« ```jsonï¼Œåˆ™æå– ```json ä¸\
          \ ``` ä¹‹é—´çš„æ•°æ®\n    if \"```json\" in content:\n        start = content.find(\"\
          ```json\") + len(\"```json\")\n        end = content.find(\"```\", start)\n\
          \        \n        # å¦‚æœæ‰¾åˆ°äº†æœ‰æ•ˆçš„ start å’Œ end\n        if start != -1 and end\
          \ != -1 and start < end:\n            json_data = content[start:end].strip()\n\
          \            return {\"result\": json_data}\n\n    return {\n        \"\
          result\": content.strip(),  # ç¡®ä¿è¿”å›å†…å®¹ä¸å«å¤šä½™ç©ºæ ¼\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ ¼å¼åŒ–
        type: code
        variables:
        - value_selector:
          - '1752979295022'
          - text
          variable: content
      height: 52
      id: '1753259719401'
      position:
        x: 634
        y: 248
      positionAbsolute:
        x: 634
        y: 248
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -86.00000000000023
      y: 56.000000000000114
      zoom: 0.7
